# Creates a bundle.js file from node project, so that you can run tests
# in the browser using mocha.runner.html

node_modules/.bin/browserify --extension .coffee -t coffeeify browsertest/mocha-harness.coffee > browsertest/bundle.js

### Running tests in IE8 and modern browsers
# IE8 is not supported by "chai". To be able to run Bacon tests in IE8, it is required to convert the Expect api to Assert api. The following steps generate Assert API equivalent tests in directory ./ie8 (which has been added to .gitignore) for respective Expect API (wherever possible!) and browserify these IE 8 tests.

cd browsertest && coffee generateIE8CompatibleBundle.coffee && .. && node_modules/.bin/browserify --extension .coffee -t coffeeify browsertest/mocha-harness-ie8.coffee > browsertest/bundle.js
